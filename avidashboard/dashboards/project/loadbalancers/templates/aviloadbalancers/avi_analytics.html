{% extends 'base.html' %}
{% load i18n %}
{% block title %}{% trans "Load Balancers" %}{% endblock %}
{% block page_header %}{% endblock %}

{% block main %}
{% if controller_ip %}
<iframe src="https://{{ controller_ip  }}/#/login?csrf_token={{ csrf_token }}&session_id={{ session_id }}&tenant_name={{ tenant_name }}&{{ other_ui_options }}"
		id="aviDashboard" 
		sandbox="allow-scripts allow-same-origin" 
		width="100%" 
		height="600">
</iframe>
{% else %}
Please contact the administrator.
{% endif %}

<script type="text/javascript">
(function() {
	var iframe = document.getElementById('aviDashboard');
	if (iframe) {

		function resize() {
			var rect = iframe.getBoundingClientRect();
			var top = rect.top;
			var ch = document.documentElement.clientHeight;
			var dh = ch - top - 20;
			iframe.setAttribute('height', dh);
		};

		window.addEventListener('resize', function() {
			setTimeout(resize, 100);
		});
		resize();
	}
})();
</script>
{% endblock %}
